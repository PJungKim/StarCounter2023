# 센서 값 받아오기

- 계수기 내 IR 센서의 값을 받아오는 방법을 정리한 문서입니다.

## 1. 센서 번호 및 위치

- 위치[^3번과7번]

  |위치|Master|Slave|
  |--|--|--|
  |위|0|4|
  |중간|1|5|
  |아래|2|6|

- 센서 값 레지스터

  |레지스터|설명|읽기/쓰기|
  |--|--|--|
  |(0) `raw`|ADC에서 입력받은 센서 값|읽기|
  |(1) `BlackMin`|Calibration의 BlackMin값, 유효한 센서의 최솟값|읽기/쓰기|
  |(2) `WhiteMin`|Calibration의 WhiteMin값, 유효한 센서의 최댓값|읽기/쓰기|
  |(3) `value`|Normalized된 센서 값|읽기|

  - (3)번 레지스터는 (1)번과 (2)번의 데이터를 바탕으로 값을 0~255로 매핑해서 읽은 값을 저장합니다. 당연히 Calibraion값 범위를 넘어서면 끝값이 저장됩니다.
  - (3)번 레지스터를 사용하기 전에 Calibraition 과정을 거쳐야 합니다.
  - 따라서 이번 시간에는 Sensor값 중에서 Raw값만 다루고, 나머지 값은 계수기 코딩 파트에서 자세히 다루도록 하겠습니다.
 
## 2. 센서 값 받아오기

- 센서 값 받아오는 함수

  |함수명|매개변수|설명|출력|
  |--|--|--|--|
  |`sensor[n].GetValue()`|`n` 센서 번호(0~7)|센서의 ADC 값을 받아옵니다.|센서의 ADC 값(0~4095)|


[^3번과7번]: 사용하지 않는 센서
